<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        Abstract Factory pattern - Object Creational ::
        Federico Bruzzone — Website &amp; Blog
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="By Dmitry Zhart (refactoring.guru)
 Intent #  Provide an interface for creating families of related or dependent objects without specifying their concrete class.
Also Known As #  Kit
Motivation #  Consider a user interface toolkit that supports multiple look-and-feel standards. Different look-and-feel define different appearances and behaviors for user interface &amp;ldquo;widgets&amp;rdquo; like scroll vars, windows, and buttons. Instantiating look-and-feel-specific classes of widgets throughout the application makes it hard to change the look and feel later."
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://federicobruzzone.github.io/posts/design-patterns/abstract-factory-pattern-object-creational/readme/" />







<link rel="stylesheet" href="/css/style.css" />

<link rel="stylesheet" href="https://federicobruzzone.github.io/style.css" />


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://federicobruzzone.github.io/img/apple-touch-icon-144-precomposed.png" />
<link rel="shortcut icon" href="https://federicobruzzone.github.io/img/favicon.png" />


<link href="/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Abstract Factory pattern - Object Creational"/>
<meta name="twitter:description" content=" "/>



<meta property="og:title" content="Abstract Factory pattern - Object Creational" />
<meta property="og:description" content=" " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://federicobruzzone.github.io/posts/design-patterns/abstract-factory-pattern-object-creational/readme/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-02T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-01-02T00:00:00+00:00" /><meta property="og:site_name" content="Federico Bruzzone" />








    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script> 

    

  </head>
  <body class="light-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >Federico Bruzzone ~/</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/categories">Categories</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/categories">Categories</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <article class="post">
    <h1 class="post-title">Abstract Factory pattern - Object Creational</h1>
    <div class="post-meta">
      
        <time class="post-date">
          2023-01-02
        </time>

        
          
        
      

      
        <span class="post-author"
          >— Written by Federico Bruzzone</span
        >


      
        <span class="post-read-time"
          >— 7 min read</span
        >
      
    </div>

    
      <span class="post-tags">
        
          <a href="https://federicobruzzone.github.io/tags/programming/">#programming</a>&nbsp;
        
          <a href="https://federicobruzzone.github.io/tags/design-patterns/">#design-patterns</a>&nbsp;
        
          <a href="https://federicobruzzone.github.io/tags/computer-science/">#computer-science</a>&nbsp;
        
          <a href="https://federicobruzzone.github.io/tags/object-oriented/">#object-oriented</a>&nbsp;
        
          <a href="https://federicobruzzone.github.io/tags/clean-code/">#clean-code</a>&nbsp;
        
      </span>
    

    

    <div class="post-content">
      
      <!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p><img src="/design-pattern/Abstract%20Factory%20pattern%20-%20Object%20Creational/img/cover.png" alt="Cover"></p>
<p>By <strong>Dmitry Zhart</strong> (<a href="https://refactoring.guru/">refactoring.guru</a>)</p>
<hr>
<h1 id="intent">
  Intent
  <a href="#intent" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p>Provide an interface for creating families of related or dependent objects without specifying their concrete class.</p>
<h1 id="also-knownas">
  Also Known As
  <a href="#also-knownas" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p>Kit</p>
<h1 id="motivation">
  Motivation
  <a href="#motivation" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p><img src="/design-pattern/Abstract%20Factory%20pattern%20-%20Object%20Creational/img/1.png" alt="1"></p>
<p>Consider a user interface toolkit that supports multiple look-and-feel standards. Different look-and-feel define different appearances and behaviors for user interface &ldquo;widgets&rdquo; like scroll vars, windows, and buttons. Instantiating look-and-feel-specific classes of widgets throughout the application makes it hard to change the look and feel later.</p>
<p>We can solve this problem by defining an abstract WidgetFactory class that declares an interface for creating each basic kind of widget. There is also an abstract class for each kind of widget, and concrete subclasses implement widgets for specific look-and-feel standards. WidgetFactory&rsquo;s interface has an operation that returns a new widget object for each abstract widget class. Clients call these operations to obtain widget instances.</p>
<p>There is a concrete subclass of WidgetFactory for each look-and-feel standard. Client create widgets solely through the WidgetFactory interface and have no knowledge of the classes that implement widget for a particular look and feel.</p>
<p>A WidgetFactory also enforces dependencies between the concrete widget classes. A <strong>Dummy</strong> scroll bar should be used with a <strong>Dummy</strong> button and a <strong>Dummy</strong> text editor, and that constraint is enforced automatically as a consequence of using a <strong>DummyWidgetFactory</strong>.</p>
<h1 id="applicability">
  Applicability
  <a href="#applicability" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p>Use the Abstract Factory pattern when</p>
<ul>
<li>
<p>a system should be independent of how its product are created, composed, and represented.</p>
</li>
<li>
<p>a system should be configured with one of multiple families of products.</p>
</li>
<li>
<p>a family of related product objects is designed to be used together, and you need to enforce this constraint.</p>
</li>
<li>
<p>you want to provide a class library of products, and you want to reveal just their interfaces, not their implementations.</p>
</li>
</ul>
<h1 id="structure">
  Structure
  <a href="#structure" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p><img src="/design-pattern/Abstract%20Factory%20pattern%20-%20Object%20Creational/img/2.png" alt="2"></p>
<h1 id="participants">
  Participants
  <a href="#participants" class="h-anchor" aria-hidden="true">#</a>
</h1>
<h2 id="abstractfactory">
  AbstractFactory
  <a href="#abstractfactory" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p><em>(WidgetFactory)</em></p>
<ul>
<li>declares an interface for operations that create abstract product objects.</li>
</ul>
<h2 id="concretefactory">
  ConcreteFactory
  <a href="#concretefactory" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p><em>(DummyWidgetFactory, TWidgetFactory)</em></p>
<ul>
<li>implements the operations to create concrete product objects.</li>
</ul>
<h2 id="abstractproduct">
  AbstractProduct
  <a href="#abstractproduct" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p><em>(Window, ScrollBar)</em></p>
<ul>
<li>declares an interface for a type of product object.</li>
</ul>
<h2 id="concreteproduct">
  ConcreteProduct
  <a href="#concreteproduct" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p><em>(DummyWindow, DummyScrollBar)</em></p>
<ul>
<li>
<p>defines a product object to be created by the corresponding concrete factory.</p>
</li>
<li>
<p>implements the AbstractProduct interface.</p>
</li>
</ul>
<h2 id="client">
  Client
  <a href="#client" class="h-anchor" aria-hidden="true">#</a>
</h2>
<ul>
<li>uses only interfaces declared by AbstractFactory and AbstractProduct classes.</li>
</ul>
<h1 id="collaborations">
  Collaborations
  <a href="#collaborations" class="h-anchor" aria-hidden="true">#</a>
</h1>
<ul>
<li>
<p>Normally a single instance of a ConcreteFactory class is created at run-time. This concrete factory creates product objects having a particular implementation. To create different product objects, clients should use a different concrete factory.</p>
</li>
<li>
<p>AbstractFactory defers creation of product objects to its ConcreteFactory subclass.</p>
</li>
</ul>
<h1 id="consequences">
  Consequences
  <a href="#consequences" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p>The Abstract Factory pattern has the following benefits and liabilities:</p>
<ol>
<li>
<p><em>It isolates concrete classes.</em> The abstract Factory pattern help you control the classes of object than an application creates. Clients manipulate instances through their abstract interfaces.</p>
</li>
<li>
<p><em>It makes exchanging product families easy.</em> The class of concrete factory appears only once in an application - that is, where it&rsquo;s instantiated. This makes it easy to change the concrete factory an application uses.</p>
</li>
<li>
<p><em>It promotes consistency among products.</em> When product objects in a family are designed to work together, it is important that an application use objects from only one family at a time. AbstractFactory makes this easy to enforce.</p>
</li>
<li>
<p><em>Supporting new kind of products is difficult.</em> Extending abstract factories to produce new kinds of Products is not easy. Supporting new kinds of products requires extending the factory interface, which involves changing the AbstractFactory class and all of its subclasses. (Solution in the next section)</p>
</li>
</ol>
<h1 id="implementation">
  Implementation
  <a href="#implementation" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p>Here are some useful techniques for implementing the Abstract Factory pattern.</p>
<ol>
<li>
<p><em>Factories as singletons.</em> An application typically needs only one instance of a ConcreteFactory per product family.</p>
</li>
<li>
<p><em>Creating the products.</em> AbstractFactory only declares an <em>interface</em> for creating products. It&rsquo;s up to ConcreteProduct subclasses to actually create them. The most common way to do this is to define a factory method for each product. A concrete factory will specify  its products by overriding the factory method for each. While this implementation is simple, it requires a new concrete factory subclass for each product even if the product families differ only slightly. In many product families are possible, the concrete factory can be implemented using Prototype pattern.</p>
</li>
<li>
<p><em>Defining extensible factories.</em> AbstractFactory usually defines a different operation for each kind of product it can produce. Adding a new kind of product requires changing the AbstractFactory interface and all the classes that depends on it. A more flexible but less safe design is to add a parameter to operations that create objects. This parameter specifies the kind of object to be created.</p>
</li>
</ol>
<p>An inherent problem remains: All products are returned to the client with the same abstract interface as given by the return type. The client will not be able to differentiate of make safe assumption about the class of a product. The client could perform a downcast, that is not always feasible of safe, because the downcasting can fail.</p>
<h1 id="sample-code">
  Sample Code
  <a href="#sample-code" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p>We will apply the Abstract Factory pattern to creating the mazes.</p>
<p>To better understand the following code and the classes used look</p>
<p><a href="https://github.com/FedericoBruzzone/federicobruzzone.github.io/tree/main/static/design-pattern/commoncode">here🔗!</a></p>
<p>Class <em>MazeFactory</em> can create components of mazes. It build rooms, walls, and doors between rooms. For instance, it might be used by a program that builds mazes randomly. Programs that build mazes take a <em>MazeFactory</em> as an argument so that the programmer can specify the classes of rooms, walls, and doors to construct.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MazeFactory</span> <span style="color:#f92672">{</span>

  <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">MazeFactory</span><span style="color:#f92672">()</span> <span style="color:#f92672">{}</span>

  <span style="color:#66d9ef">public</span> Maze <span style="color:#a6e22e">MakeMaze</span><span style="color:#f92672">()</span> 
    <span style="color:#f92672">{</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Maze<span style="color:#f92672">();</span> <span style="color:#f92672">}</span>

  <span style="color:#66d9ef">public</span> Wall <span style="color:#a6e22e">MakeWall</span><span style="color:#f92672">()</span> 
    <span style="color:#f92672">{</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Wall<span style="color:#f92672">();</span> <span style="color:#f92672">}</span>

  <span style="color:#66d9ef">public</span> Room <span style="color:#a6e22e">MakeRoom</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> n<span style="color:#f92672">)</span> 
    <span style="color:#f92672">{</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Room<span style="color:#f92672">(</span>n<span style="color:#f92672">);</span> <span style="color:#f92672">}</span>

  <span style="color:#66d9ef">public</span> Door <span style="color:#a6e22e">MakeDoor</span><span style="color:#f92672">(</span>Room r1<span style="color:#f92672">,</span> Room r2<span style="color:#f92672">)</span>
    <span style="color:#f92672">{</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Door<span style="color:#f92672">(</span>r1<span style="color:#f92672">,</span> r2<span style="color:#f92672">);</span> <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><p>Here is a version of <em>CreateMaze</em> that take <em>MazeFactory</em> as a parameter. <em>CreateMaze</em> builds a small maze consisting of two rooms with a door between them.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MazeGame_Factory</span> <span style="color:#f92672">{</span>

  <span style="color:#66d9ef">public</span> Maze <span style="color:#a6e22e">CreateMaze</span><span style="color:#f92672">(</span>MazeFactory factory<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    Maze aMaze   <span style="color:#f92672">=</span> factory<span style="color:#f92672">.</span><span style="color:#a6e22e">MakeMaze</span><span style="color:#f92672">();</span>
    Room r1      <span style="color:#f92672">=</span> factory<span style="color:#f92672">.</span><span style="color:#a6e22e">MakeRoom</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
    Room r2      <span style="color:#f92672">=</span> factory<span style="color:#f92672">.</span><span style="color:#a6e22e">MakeRoom</span><span style="color:#f92672">(</span>2<span style="color:#f92672">);</span>
    Door theDoor <span style="color:#f92672">=</span> factory<span style="color:#f92672">.</span><span style="color:#a6e22e">MakeDoor</span><span style="color:#f92672">(</span>r1<span style="color:#f92672">,</span> r2<span style="color:#f92672">);</span>

    r1<span style="color:#f92672">.</span><span style="color:#a6e22e">SetSide</span><span style="color:#f92672">(</span>Direction<span style="color:#f92672">.</span><span style="color:#a6e22e">North</span><span style="color:#f92672">,</span> factory<span style="color:#f92672">.</span><span style="color:#a6e22e">MakeWall</span><span style="color:#f92672">());</span>
    r1<span style="color:#f92672">.</span><span style="color:#a6e22e">SetSide</span><span style="color:#f92672">(</span>Direction<span style="color:#f92672">.</span><span style="color:#a6e22e">East</span><span style="color:#f92672">,</span>  theDoor<span style="color:#f92672">);</span>
    r1<span style="color:#f92672">.</span><span style="color:#a6e22e">SetSide</span><span style="color:#f92672">(</span>Direction<span style="color:#f92672">.</span><span style="color:#a6e22e">South</span><span style="color:#f92672">,</span> factory<span style="color:#f92672">.</span><span style="color:#a6e22e">MakeWall</span><span style="color:#f92672">());</span>
    r1<span style="color:#f92672">.</span><span style="color:#a6e22e">SetSide</span><span style="color:#f92672">(</span>Direction<span style="color:#f92672">.</span><span style="color:#a6e22e">West</span><span style="color:#f92672">,</span>  factory<span style="color:#f92672">.</span><span style="color:#a6e22e">MakeWall</span><span style="color:#f92672">());</span>

    r2<span style="color:#f92672">.</span><span style="color:#a6e22e">SetSide</span><span style="color:#f92672">(</span>Direction<span style="color:#f92672">.</span><span style="color:#a6e22e">North</span><span style="color:#f92672">,</span> factory<span style="color:#f92672">.</span><span style="color:#a6e22e">MakeWall</span><span style="color:#f92672">());</span>
    r2<span style="color:#f92672">.</span><span style="color:#a6e22e">SetSide</span><span style="color:#f92672">(</span>Direction<span style="color:#f92672">.</span><span style="color:#a6e22e">East</span><span style="color:#f92672">,</span>  factory<span style="color:#f92672">.</span><span style="color:#a6e22e">MakeWall</span><span style="color:#f92672">());</span>
    r2<span style="color:#f92672">.</span><span style="color:#a6e22e">SetSide</span><span style="color:#f92672">(</span>Direction<span style="color:#f92672">.</span><span style="color:#a6e22e">South</span><span style="color:#f92672">,</span> factory<span style="color:#f92672">.</span><span style="color:#a6e22e">MakeWall</span><span style="color:#f92672">());</span>
    r2<span style="color:#f92672">.</span><span style="color:#a6e22e">SetSide</span><span style="color:#f92672">(</span>Direction<span style="color:#f92672">.</span><span style="color:#a6e22e">West</span><span style="color:#f92672">,</span>  theDoor<span style="color:#f92672">);</span>

    aMaze<span style="color:#f92672">.</span><span style="color:#a6e22e">AddRoom</span><span style="color:#f92672">(</span>r1<span style="color:#f92672">);</span>
    aMaze<span style="color:#f92672">.</span><span style="color:#a6e22e">AddRoom</span><span style="color:#f92672">(</span>r2<span style="color:#f92672">);</span>

    <span style="color:#66d9ef">return</span> aMaze<span style="color:#f92672">;</span>
  <span style="color:#f92672">}</span>     
  
<span style="color:#f92672">}</span>
</code></pre></div><p>Now suppose we want to make a maze game in which a room can have a bomb set in it, and if the bomb goes off, it will damage the walls.</p>
<p>We can make a subclass of <em>Room</em> (<a href="https://github.com/FedericoBruzzone/federicobruzzone.github.io/tree/main/static/design-pattern/commoncode">here 🔗</a>) keep track if a room has a bomb in it.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">RoomWithABomb</span> <span style="color:#66d9ef">extends</span> Room <span style="color:#f92672">{</span>
  
  <span style="color:#66d9ef">int</span> bombDamage<span style="color:#f92672">;</span>

  <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">RoomWithABomb</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> roomNo<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">super</span><span style="color:#f92672">(</span>roomNo<span style="color:#f92672">);</span>
  <span style="color:#f92672">}</span>  

  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setBombDamage</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> bombDamage<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">bombDamage</span> <span style="color:#f92672">=</span> bombDamage<span style="color:#f92672">;</span>
  <span style="color:#f92672">}</span> 

<span style="color:#f92672">}</span>
</code></pre></div><p>We also need a subclass of <em>Wall</em> to keep track of the damage.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BombedWall</span> <span style="color:#66d9ef">extends</span> Wall <span style="color:#f92672">{</span>
  
  <span style="color:#66d9ef">int</span> wallDamage <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
  
  <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">BombedWall</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">super</span><span style="color:#f92672">();</span>
  <span style="color:#f92672">}</span>  

  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">hitWall</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> bombDamage<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">wallDamage</span> <span style="color:#f92672">=</span> bombDamage<span style="color:#f92672">;</span>
  <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><p>The last class we defined is <em>BombedMazefactory</em>, a subclass of <em>MazeFactory</em> (defined above). This class only need to override two functions:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java">
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BombedMazeFactory</span> <span style="color:#66d9ef">extends</span> MazeFactory <span style="color:#f92672">{</span>
     
  <span style="color:#66d9ef">public</span> Wall <span style="color:#a6e22e">MakeWall</span><span style="color:#f92672">()</span> 
    <span style="color:#f92672">{</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> BombedWall<span style="color:#f92672">();</span> <span style="color:#f92672">}</span>

  <span style="color:#66d9ef">public</span> Room <span style="color:#a6e22e">MakeRoom</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> n<span style="color:#f92672">)</span> 
    <span style="color:#f92672">{</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> RoomWithABomb<span style="color:#f92672">(</span>n<span style="color:#f92672">);</span> <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><p>To build a simple maze that can contains bomb or not, we simply call <em>CreateMaze</em> with a <em>BombedMazeFactory</em> or <em>MazeFactory</em>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Java" data-lang="Java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MainAbstractFactory</span> <span style="color:#f92672">{</span>

  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    MazeGame_Factory game <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MazeGame_Factory<span style="color:#f92672">();</span>

    MazeFactory factory <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MazeFactory<span style="color:#f92672">();</span>
    BombedMazeFactory bombedFactory <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BombedMazeFactory<span style="color:#f92672">();</span>

    game<span style="color:#f92672">.</span><span style="color:#a6e22e">CreateMaze</span><span style="color:#f92672">(</span>bombedFactory <span style="color:#75715e">/* factory */</span><span style="color:#f92672">);</span>
  <span style="color:#f92672">}</span>  
  
<span style="color:#f92672">}</span>
</code></pre></div><p>Notice that the <em>MazeFactory</em> is just a collection of factory methods. This is the most common way to implement the Abstract Factory pattern. Also note that MazeFactory is not an abstract class; it acts as both AbstractFactory <em>and</em> ConcreteFactory.</p>
<h1 id="known-uses">
  Known Uses
  <a href="#known-uses" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p>InterViews uses the &ldquo;Kit&rdquo; suffix [Lin92] to denote AbstractFactory classes. It defines WidgetKit and DialogKit abstract factories for generating look-and-feel-specific user interface objects. InterViews also includes a LayoutKit that generates different composition objects depending on the layout desired.</p>
<h1 id="related-patterns">
  Related Patterns
  <a href="#related-patterns" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p>AbstractFactory classes are often implemented with factory methods, but they can also implemented using Prototype.</p>
<p>A concrete factory is often a singleton.</p>

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="https://federicobruzzone.github.io/posts/design-patterns/builder-pattern-object-creational/readme/">
                  <span class="button__icon">←</span>
                  <span class="button__text">Builder pattern pattern - Object Creational</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="https://federicobruzzone.github.io/posts/design-patterns/design-patterns-introduction/readme/">
                  <span class="button__text">Design Patterns - Introduction</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        

      
    
  </article>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >Federico Bruzzone ~/</span
    >
    <span class="logo__cursor"></span>
  
</a>

      <div class="copyright">
        <span>© 2023 Powered by <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span>
        
      </div>
    
  </div>
</footer>





<script type="text/javascript" src="/bundle.min.js"></script>


      
    </div>

    
  </body>
</html>
