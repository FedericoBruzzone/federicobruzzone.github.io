<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>prototype-object-creational</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<hr />
<p>author: Federico Bruzzone title: Prototype - Class Creational date:
2023-05-08 draft: false tags: [programming, design-patterns,
computer-science, object-oriented, clean-code] categories: [programming,
design-pattern] summary: ‚ÄúSpecify the kinds of objects to create using a
prototypical instance, and create new objects by copying this
prototype.‚Äù</p>
<p>mathjax: true</p>
<hr />
<!-- # Prototype - Class Creational -->
<!-- ## A summary of GoF Design Patters -->
<figure>
<img
src="/design-pattern/Prototype%20-%20Object%20Creational/img/cover.png"
alt="Cover" />
<figcaption aria-hidden="true">Cover</figcaption>
</figure>
<p>By <strong>Dmitry Zhart</strong> (<a
href="https://refactoring.guru/">refactoring.guru</a>)</p>
<h2 id="intent">Intent</h2>
<p>Specify the kinds of objects to create using a prototypical instance,
and create new objects by copying this prototype.</p>
<h2 id="also-known-as">Also Known As</h2>
<p>‚Ä¶</p>
<h2 id="motivation">Motivation</h2>
<figure>
<img src="/design-pattern/Prototype%20-%20Object%20Creational/img/1.png"
alt="1" />
<figcaption aria-hidden="true">1</figcaption>
</figure>
<p>You could build an editor for music scores by customizing a general
framework for graphical editors and adding new objects that represent
notes, rests, and staves. The editor framework may have a palette of
tools for adding these music objects to the score.</p>
<p>Let‚Äôs assume the framework provides an abstract Graphic class for
graphical components, like notes and staves. Moreover, it‚Äôll provide an
abstract Tool class for defining tools like those in the palette. The
framework also predefines a Graphic-Tool subclass for tools that create
instances of graphical objects and add them to the document.</p>
<p>But GraphicTool presents a problem to the framework designer. The
classes for notes and staves are specific to our application, but the
GraphicTool class belongs to the framework. GraphicTool doesn‚Äôt know how
to create instances of our music classes to add to the score.</p>
<p>The solution lies in making GraphicTool create a new Graphic by
copying or ‚Äúcloning‚Äù an instance of a Graphic subclass. We call this
instance a <strong>prototype</strong>. GraphicTool is parameterized by
the prototype it should clone and add to the document.</p>
<p>We can use the Prototype pattern to reduce the number of classes even
further. We have separate classes for whole notes and half notes, but
that‚Äôs probably unnecessary. Instead they could be instances of the same
class initialized with different bitmaps and durations.</p>
<h2 id="applicability">Applicability</h2>
<p>Use the Prototype pattern when a system should be independent of how
its products are created, composed, and represented; <em>and</em></p>
<ul>
<li><p>when the classes to instantiate are specified at run-time, for
example, by dynamic loading; <em>or</em></p></li>
<li><p>to avoid building a class hierarchy offactories that parallels
the class hierarchy of products; <em>or</em></p></li>
<li><p>when instances of a class can have one of only a few different
combinations of state. It may be more convenient to install a
corresponding number of prototypes and clone them rather than
instantiating the class manually, each time with the appropriate
state.</p></li>
</ul>
<h2 id="structure">Structure</h2>
<figure>
<img src="/design-pattern/Prototype%20-%20Object%20Creational/img/2.png"
alt="2" />
<figcaption aria-hidden="true">2</figcaption>
</figure>
<h2 id="collaborations">Collaborations</h2>
<h3 id="prototype">Prototype</h3>
<p><em>(Graphic)</em></p>
<ul>
<li>declares an interface for cloning itself.</li>
</ul>
<h3 id="concreteprototype">ConcretePrototype</h3>
<p><em>(Staff, WholeNote, HalfNote)</em></p>
<ul>
<li>implements an operation for cloning itself.</li>
</ul>
<h3 id="client">Client</h3>
<p><em>(GraphicTool)</em></p>
<ul>
<li>creates a new object by asking a prototype to clone itself.</li>
</ul>
<h2 id="collaborations-1">Collaborations</h2>
<p>A client asks a prototype to clone itself.</p>
<h2 id="consequences">Consequences</h2>
<p>Prototype has many of the same consequences that Abstract Factory and
Builder have: It hides the concrete product classes from the client.
Moreover, these patterns let a client work with application-specific
classes without modification.</p>
<p>Additional benefits of the Prototype pattern:</p>
<ol type="1">
<li><p><em>Adding and removing products at run-time</em>: Prototypes let
you incorporate a new concrete product class into a system simply by
registering a prototypical instance with the client.</p></li>
<li><p><em>Specifying new objects by varying values</em>: Highly dynamic
systems let you define new behavior through object composition by
specifying values for an object‚Äôs variables. You effectively define new
kinds of objects by instantiating existing classes andregistering the
instances as prototypes of client objects. A client can exhibit new
behavior by delegating responsibility to the prototype.</p></li>
<li><p><em>Specifying new objects by varying structure</em>: Many
applications build objects from parts and subparts.</p></li>
<li><p><em>Reduced subclassing</em>: Factory Method often produces a
hierarchy of Creator classes that parallels the product class hierarchy.
The Prototype pattern lets you clone a prototype instead of asking a
factory method to make a new object.</p></li>
<li><p><em>Configuring an application with classes dynamically</em>:
Some run-time environments let you load classes into an application
dynamically. An application that wants to create instances of a
dynamically loaded class won‚Äôt be able to reference its constructor
statically. Instead, the run-time environment creates an instance of
each class automatically when it‚Äôs loaded, and it registers the instance
with a prototype manager</p></li>
</ol>
<h2 id="implementation">Implementation</h2>
<p>Prototype is particularly useful with static languages like C++,
where classes are not objects, and little or no type information is
available at run-time.</p>
<p>Consider the following issues when implementing prototypes:</p>
<ol type="1">
<li><p><em>Using a prototype manager</em>: When the number of prototypes
in a system in not fixed, keep the registry of available prototypes. A
prototype manager is an associative store that returns the prototype
matching a given key.</p></li>
<li><p><em>Implementing the Clone operation</em>: The hardest part of
the Prototype pattern is implementing the Clone operation correctly.
Most languages provide some support for cloning objects, but using
inheritance or copy-constructor don‚Äôt solve the ‚Äúshallow copy versus
deep copy‚Äù problem. A shallow copy is simple and often sufficient, but
cloning prototypes with complex structures usually requires a deep copy.
If objects in the system provide Save and Load operations, then you can
use them to provide a default implementation of Clone.</p></li>
<li><p><em>Initializing clones</em>: You generally can‚Äôt pass these
values in the Clone operation, because their number will vary between
classes of prototypes. It might be the case that your prototype classes
already define operations for (re)setting key pieces of state.</p></li>
</ol>
<h2 id="sample-code">Sample Code</h2>
<p>To better understand the following code and the classes used look</p>
<p><a
href="https://github.com/FedericoBruzzone/federicobruzzone.github.io/blob/main/static/design-pattern/commoncode">hereüîó!</a></p>
<p>We‚Äôll define a <em>MazePrototypeFactory</em> subclass of the
<em>MazeFactory</em> class. MazePrototypeFactory will be initialized
with prototypes of the objects it will create so that we don‚Äôt have to
subclass it just to change the classes of walls or rooms it creates.</p>
<ul>
<li><p><em>MazePrototypeFactory</em> augments the <em>MazeFactory</em>
interface with a constructor that takes the prototypes as
arguments.</p></li>
<li><p>The new constructor simply initializes its prototypes.</p></li>
<li><p>The member functions for creating walls, rooms, and doors are
similar: Each clones a prototype and then initializes it. Here are the
definitions of <em>MakeWall</em> and <em>MakeDoor</em>:</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">commoncode</span><span class="op">.*;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> MazePrototypeFactory <span class="kw">extends</span> MazeFactory <span class="op">{</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> Maze _prototypeMaze <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> Room _prototypeRoom <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> Wall _prototypeWall <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">private</span> Door _prototypeDoor <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="fu">MazePrototypeFactory</span><span class="op">(</span>Maze m<span class="op">,</span> Wall w<span class="op">,</span> Room r<span class="op">,</span> Door d<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">_prototypeMaze</span> <span class="op">=</span> m<span class="op">;</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">_prototypeWall</span> <span class="op">=</span> w<span class="op">;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">_prototypeRoom</span> <span class="op">=</span> r<span class="op">;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>        <span class="kw">this</span><span class="op">.</span><span class="fu">_prototypeDoor</span> <span class="op">=</span> d<span class="op">;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> Maze <span class="fu">MakeMaze</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> _prototypeMaze<span class="op">.</span><span class="fu">clone</span><span class="op">();</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> Wall <span class="fu">MakeWall</span><span class="op">()</span> <span class="op">{</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> _prototypeWall<span class="op">.</span><span class="fu">clone</span><span class="op">();</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> Room <span class="fu">MakeRoom</span><span class="op">(</span><span class="dt">int</span> n<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>        Room room <span class="op">=</span> _prototypeRoom<span class="op">.</span><span class="fu">clone</span><span class="op">();</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>        room<span class="op">.</span><span class="fu">initializer</span><span class="op">(</span>n<span class="op">);</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> room<span class="op">;</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">@Override</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> Door <span class="fu">MakeDoor</span><span class="op">(</span>Room r1<span class="op">,</span> Room r2<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>        Door door <span class="op">=</span>  _prototypeDoor<span class="op">.</span><span class="fu">clone</span><span class="op">();</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>        door<span class="op">.</span><span class="fu">initializer</span><span class="op">(</span>r1<span class="op">,</span> r2<span class="op">);</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> door<span class="op">;</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>We can use <em>MazePrototypeFactory</em> to create a prototypical or
default maze just by initializing it with prototypes of basic maze
components.</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">commoncode</span><span class="op">.*;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> MainPrototypeFactory <span class="op">{</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        MazeGame_Factory game<span class="op">;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        MazePrototypeFactory simpleMazeFactory <span class="op">=</span> <span class="kw">new</span> <span class="fu">MazePrototypeFactory</span><span class="op">(</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> <span class="fu">Maze</span><span class="op">(),</span> </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> <span class="fu">Wall</span><span class="op">(),</span> </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> <span class="fu">Room</span><span class="op">(</span><span class="dv">1</span><span class="op">),</span> </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>            <span class="kw">new</span> <span class="fu">Door</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">));</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>        Maze maze <span class="op">=</span> game<span class="op">.</span><span class="fu">CreateMaze</span><span class="op">(</span>simpleMazeFactory<span class="op">);</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span> </span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h2 id="known-uses">Known Uses</h2>
<p>The first widely known application of the pattern in an object-
oriented language was in ThingLab, where users could form a composite
object and then promote it to a prototype by installing it in a library
of reusable objects</p>
<p>The first widely known application of the pattern in an
object-oriented language was in ThingLab, where users could form a
composite object and then promote it to a prototype by installing it in
a library of reusable objects</p>
<h2 id="related-patterns">Related Patterns</h2>
<p>Prototype and Abstract Factory are competing patterns in some ways,
as we discuss at the end of this chapter. They can also be used
together, however. An Abstract Factory might store a set of prototypes
from which to clone and return product objects.</p>
<p>Designs that make heavy use of the Composite and Decorator patterns
often can benefit from Prototype as well.</p>
</body>
</html>
